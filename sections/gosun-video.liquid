{% schema %}
{
  "name": "Gosun Video",
  "settings": [
    {
      "type": "text",
      "id": "video_title",
      "label": "Video Title",
      "default": "My Video"
    }
  ],
  "blocks": [
    {
      "type": "video_block",
      "name": "Video Block",
      "settings": [
        {
          "type": "url",
          "id": "video_file",
          "label": "Video File URL"
        },
        {
          "type": "checkbox",
          "id": "autoplay",
          "label": "Autoplay"
        },
        {
          "type": "checkbox",
          "id": "loop",
          "label": "Loop"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Default Gosun Video",
      "category": "Custom",
      "settings": {
        "video_title": "Default Video Title"
      },
      "blocks": [
        {
          "type": "video_block",
          "settings": {
            "video_file": "/path/to/default/video.mp4",
            "autoplay": true,
            "loop": true
          }
        }
      ]
    }
  ]
}
{% endschema %}

<div class="gosun-video-section">
  <h1>{{ section.settings.video_title }}</h1>
  {% for block in section.blocks %}
    {% if block.type == 'video_block' %}
      <video
        {% if block.settings.autoplay %}autoplay{% endif %}
        {% if block.settings.loop %}loop{% endif %}
        controls
        style="width: 100%;">
        <source src="{{ block.settings.video_file }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    {% endif %}
  {% endfor %}
</div>

<style>
.gosun-video-section {
  width: 100%;
}

.gosun-video-section video {
  width: 100%;
}
.gosun-video-section {
    max-width: 1100px;
    margin-left: auto;
    margin-right: auto;
}
</style>

{% schema %}
{
  "name": "Custom Logos",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Custom Logos Section"
    },
    {
      "type": "textarea",
      "id": "section_description",
      "label": "Section Description",
      "default": "Add a brief description about your custom logos."
    },
    {
      "type": "radio",
      "id": "layout_type",
      "label": "Layout Type",
      "options": [
        { "value": "full_width", "label": "Full Width" },
        { "value": "boxed", "label": "Boxed" }
      ],
      "default": "full_width"
    },
    {
      "type": "checkbox",
      "id": "center_text",
      "label": "Center Text",
      "default": false
    }
  ],
  "blocks": [
    {
      "type": "logo_item",
      "name": "Logo Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo_image",
          "label": "Logo Image"
        },
        {
          "type": "text",
          "id": "logo_title",
          "label": "Title"
        },
        {
          "type": "textarea",
          "id": "logo_description",
          "label": "Description"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Logos",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="custom-logos {% if section.settings.layout_type == 'boxed' %}layout-boxed{% else %}layout-full_width{% endif %}">
  <div class="custom-logos__header {% if section.settings.center_text %}text-center{% endif %}">
    <h2>{{ section.settings.section_title }}</h2>
    <p>{{ section.settings.section_description }}</p>
  </div>
  <div class="custom-logos__container">
    {% for block in section.blocks %}
      <div class="custom-logos__item">
        <img src="{{ block.settings.logo_image | img_url: 'master' }}" alt="{{ block.settings.logo_title }}">
        <h3>{{ block.settings.logo_title }}</h3>
        <p>{{ block.settings.logo_description }}</p>
      </div>
    {% endfor %}
  </div>
</div>

<style>
.custom-logos {
  padding: 20px;
}

.custom-logos__header {
  margin-bottom: 20px;
}

.custom-logos__header h2 {
  font-size: 24px;
}

.custom-logos__header p {
  font-size: 16px;
}

.custom-logos__container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.custom-logos__item {
  flex: 1 1 calc(100% / {{ section.blocks | size }});
  box-sizing: border-box;
  padding: 10px;
  text-align: left; /* Default text alignment */
}

.custom-logos .text-center {
  text-align: center;
}

.custom-logos.layout-full_width .custom-logos__container {
  margin-left: 0;
  margin-right: 0;
}

@media (min-width: 768px) {
  .custom-logos.layout-boxed .custom-logos__container {
    margin-left: 9rem;
    margin-right: 9rem;
  }
}

.custom-logos__item img {
  max-width: 100%;
  height: auto;
}

.custom-logos__item h3 {
  font-size: 18px;
  margin-top: 10px;
}

.custom-logos__item p {
  font-size: 14px;
  margin-top: 5px;
  margin-bottom: 10px;
}
</style>
